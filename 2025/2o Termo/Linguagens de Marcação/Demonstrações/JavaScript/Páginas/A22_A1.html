<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A22-A1.</title>
    <style>
        :root {
            --c: #0d47a1;
            --b: #f8fafc;
            --t: #111827;
            --card: #fff;
            --bd: #e5e7eb;

        }

        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: var(--t);
            background: var(--b);
        }

        header {
            background: var(--c);
            color: #fff;
            padding: 24px 16px;
        }

        h1 {
            margin: 0;
            font-size: 24px;
        }

        main {
            max-width: 920px;
            margin: 24px auto;
            padding: 0 16px;
            display: grid;
            gap: 16px;
        }

        section {
            background: var(--card);
            border: 1px solid var(--bd);
            border-radius: 12px;
            padding: 16px;
        }

        section h2 {
            margin: 0 0 8px 0;
            font-size: 18px;
        }

        .row {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }

        button {
            cursor: pointer;
            border: 1px solid var(--bd);
            background: #fff;
            border-radius: 10px;
            padding: 8px 12px;
        }

        input,
        select {
            border: 1px solid var(--bd);
            border-radius: 8px;
            padding: 8px;
        }

        .pill {
            display: inline-block;
            padding: 2px 8px;
            border: 1px solid var(--bd);
            border-radius: 999px;
            background: #fff;
        }

        .muted {
            color: #c6c799;
            font-size: 14px;
        }

        .output {
            white-space: pre-wrap;
            background: #f3f4f6;
            border: 1px dashed #cbd5e1;
            border-radius: 8px;
            padding: 10px;
            min-height: 40px;
            gap: 5px;
            margin-top: 10px
        }

        ul.todos {
            list-style: none;
            padding-left: 0;
            margin: 8px 0;
        }

        ul.todos li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--bd);
            border-radius: 8px;
            padding: 6px;
            margin-top: 6px;
            background: #fff;
        }

        .danger {
            color: #b91c1c;
        }

        .ok {
            color: #166543;
        }
    </style>
</head>

<body>
    <header>
        <h1>JS na pr√°tica: Vari√°veis, fun√ß√µes, DOM, eventos e debugging</h1>
        <p class="muted">Use o console (F2 ‚Üí Console) para ver logs adicionais</p>
    </header>
    <main>
        <!--Fundamentos: Vari√°veis, Tipos e Operadores-->
        <section id="fundamentos">
            <h2>1) Fundamentos do JS</h2>
            <p class="muted">Declara√ß√µes de vari√°veis, tipos de dados e operadores</p>
            <div class="row">
                <button id="btnTipos">Mostrar tipos (typeof) no console e aqui</button>
                <span class="pill">let / const - string - number - boolean - array - object</span>
            </div>
            <div class="output" aria-live="polite"><code id="tiposOut"></code></div>
        </section>
        <section id="controle">
            <h2>Estruturas de Controle (if/else, switch, for/while)</h2>
            <div class="row">
                <label for="idadeInp">Idade</label>
                <input type="number" id="idadeInp" min="0" max="120" placeholder="Exemplo: 18">
                <button id="btnVerificarIdade">Verificar maioridade (if/else)</button>
            </div>
            <div id="idadeOut" class="output"></div>
            <div class="row" style="margin-top: 10px;">
                <label for="corSel">Sem√°foro</label>
                <select id="corSel">
                    <option value="" disabled selected>Selecione uma cor do sem√°foro</option>
                    <option value="vermelho">Vermelho</option>
                    <option value="amarelo">Amarelo</option>
                    <option value="verde">Verde</option>
                </select>
                <button id="btnSemaforo">Mensagem (switch)</button>
            </div>
            <div id="semaforoOut" class="output"></div>
            <div class="row" style="margin-top: 10px;">
                <label>Loop</label>
                <button id="btnLoop">Gerar sequ√™ncia (for/while)</button>
            </div>
            <div id="loopOut" class="output"></div>
        </section>
        <section id="funcoes">
            <h2>3) Fun√ß√µes (declara√ß√µes e arrow function)</h2>
            <p class="muted">Demonstra√ß√£o de fun√ß√µes com par√¢metros e retorno.</p>
            <div class="row">
                <input type="number" id="aInp" placeholder="a" />
                <input type="number" id="bInp" placeholder="b" />
                <button id="btnSomar">Somar (function)</button>
                <button id="btnDobro">Dobro de a (arrow)</button>
            </div>
            <div id="funOut" class="output"></div>
        </section>
        <section id="domEventos">
            <h2>4) Dom + Eventos</h2>
            <h3>4.1) Contador</h3>
            <div class="row">
                <button id="menos">-</button>
                <strong id="valor">0</strong>
                <button id="mais">+</button>
                <button id="zerar">Zerar</button>
            </div>
            <h3 style="margin-top: 14px;">Tema da p√°gina</h3>
            <div class="row">
                <button data-bg="#ffffff" data-fg="#111827">Claro</button>
                <button data-bg="#0f172a" data-fg="#91A4CF">Escuro</button>
                <button data-bg="#fef3c7" data-fg="#172937">S√©pia</button>
            </div>
        </section>
        <section id="formulario">
            <h2>5) Formul√°rio e Valida√ß√£o (onsubmit + preventDefault)</h2>
            <form id="formAluno" novalidate>
                <div class="row" style="margin-bottom: 8px;">
                    <input type="text" id="nome" placeholder="Nome" required />
                    <input type="number" id="idade" min="0" placeholder="Idade" required />
                    <button type="submit" id="enviar">Enviar</button>
                </div>
                <div id="formOut" class="output"></div>
            </form>
        </section>
        <section id="todo">
            <h2>6) Lista de Tarefas (To-Do) - Criar e remover itens</h2>
            <div class="row">
                <input type="text" id="todoInp" placeholder="Nova tarefa...">
                <button id="todoAdd">Adicionar</button>
            </div>
            <ul id="todoList" class="todos"></ul>
            <p class="muted">Dica: Abra o console e veja o <code>console.table</code> da lista de tarefas</p>
        </section>
    </main>
    <script>
        // Parte 1) Fundamentos do JS
        const btnTipos = document.getElementById("btnTipos");
        const tiposOut = document.getElementById("tiposOut");
        btnTipos.addEventListener("click", () => {
            let texto = "Ol√° SENAI";
            let numero = 42;
            let booleano = true;
            let nulo = null;
            let indef;
            let lista = ["Ma√ß√£", "Uva"];
            let aluno = { nome: "Ana", idade: 20 }

            // Primeira coisa: Exibir no console
            console.log("Tipos (typeof):");
            console.log(typeof (texto), typeof (numero), typeof (booleano), typeof (nulo), typeof (indef));
            console.table({ texto, numero, booleano, nulo, indef, lista, aluno });

            // Segunda coisa: Exibido na p√°gina HTML
            if (tiposOut.textContent == "") {
                btnTipos.textContent = "Esconder tipos (typeof) no console e aqui"
                tiposOut.textContent =
                    `typeof ${texto} ‚Üí ${typeof texto} \n` +
                    `typeof ${numero} ‚Üí ${typeof numero} \n` +
                    `typeof ${booleano} ‚Üí ${typeof booleano} \n` +
                    `typeof ${nulo} ‚Üí ${typeof nulo} (Bug hist√≥rico do JS) \n` +
                    `typeof undefined ‚Üí ${typeof indef} \n` +
                    `typeof ${lista} ‚Üí ${typeof lista} (Array √© um obj especial) \n` +
                    `typeof {nome: "Ana", idade: 20} ‚Üí ${typeof aluno} \n`
            }
            else {
                btnTipos.textContent = "Mostrar tipos (typeof) no console e aqui"
                tiposOut.textContent = ""
                console.clear()
            };
        });


        // Parte 2: Estruturas de Controle
        const idadeInp = document.getElementById('idadeInp') // Input
        const idadeBtn = document.getElementById('btnVerificarIdade') // Bot√£o
        const idadeOut = document.getElementById('idadeOut') // Div que exibe os resultados

        idadeInp.addEventListener('input', () => {
            idadeOut.innerHTML = ""; // limpa a mensagem
            idadeBtn.textContent = "Verificar maioridade (if/else)"; // reseta o bot√£o
        });

        idadeBtn.addEventListener('click', () => {

            let idade = Number(idadeInp.value)

            if ((idadeInp.value) === "") {
                idadeOut.textContent = "Digite algum valor!";
                return;
            }
            else if (idadeOut.innerHTML !== "" && idadeOut.innerHTML !== "Digite algum valor!") {
                idadeBtn.textContent = "Verificar maioridade (if/else)";
                idadeOut.innerHTML = "";
                return;
            }


            if (Number.isNaN(idade)) {
                idadeOut.innerHTML = "Digite um numero v√°lido!";
                return;
            }

            idadeBtn.textContent = "Esconder idade";

            if (idade >= 18) {
                idadeOut.innerHTML = "üòä Voc√™ √© maior de idade ";
            }
            else {
                idadeOut.innerHTML = "üòÇ Voc√™ √© menor de idade - quase um fiote";
            }
        });

        const CorSel = document.getElementById("corSel");
        const btnSemaforo = document.getElementById("btnSemaforo");
        const semaforoOut = document.getElementById("semaforoOut");

        btnSemaforo.addEventListener("click", () => {
            let cor = corSel.value;
            let msg;
            switch (cor) {
                case 'vermelho': msg = "Pare!!!"; break;
                case 'amarelo': msg = "Aten√ß√£o..."; break;
                case 'verde': msg = "V√° com Dio..."; break;
                default: msg = 'üòí Precisa selecionar uma cor antes...'
            }
            semaforoOut.textContent = msg;
        })


        const btnLoop = document.getElementById("btnLoop")
        const loopOut = document.getElementById("loopOut")

        btnLoop.addEventListener('click', () => {

            let resultado = 'for i=1..5\n';

            for (let i = 1; i <= 5; i++) {
                resultado += `${i}`;
            }

            resultado += '\n\nwhile contador <3:\n';
            let contador = 0;
            while (contador < 3) {
                resultado += `${contador}`;
                contador++;
            }
            loopOut.textContent = resultado.trim();
        });

        const aInp = document.getElementById("aInp");
        const bInp = document.getElementById("bInp");
        const BtnSomar = document.getElementById("btnSomar");
        const btnDobro = document.getElementById("btnDobro");
        const funOut = document.getElementById("funOut");

        // Trabalhando com fun√ß√£o tradicional
        function somar(a, b) {
            return a + b;
        }

        BtnSomar.addEventListener('click', () => {
            const a = Number(aInp.value)
            const b = Number(bInp.value)
            if (Number.isNaN(a) || Number.isNaN(b)) {
                funOut.textContent = "Digite n√∫meros v√°lidos para A e B üö´"
                return;
            }
            funOut.textContent = `Resultado da soma (${a}) e (${b}) = ${somar(a, b)}`
        });

        const dobro = x => x * 2;

        btnDobro.addEventListener('click', () => {
            const a = Number(aInp.value);
            if (Number.isNaN(a)) {
                funOut.textContent = "Digite um n√∫mero v√°lido para A"
            }
            funOut.textContent = `Resultado do dobro de (${a}) √© ${dobro(a)}`
        });

        // 4) Dom + Eventos
        // 4.1) Contador

        const btnMenos = document.getElementById("menos");
        const Labelvalor = document.getElementById("valor");
        const btnMais = document.getElementById("mais");
        const btnZerar = document.getElementById("zerar");

        let count = 0;
        const renderCount = () => (Labelvalor.textContent = String(count));

        btnMenos.addEventListener('click', () => {
            count--;
            renderCount();
        });

        btnMais.addEventListener('click', () => {
            count++;
            renderCount();
        });

        btnZerar.addEventListener('click', () => { count = 0; renderCount(); });

        // 4.2) Tema - Usando dataset do bot√£o
        document.querySelectorAll('#domEventos [data-bg]').forEach(btn => {
            btn.addEventListener('click', () => {
                document.body.style.background = btn.dataset.bg;
                document.body.style.color = btn.dataset.fg;
            });
        });

        // 5) Formul√°rio + Valida√ß√£o
        const form = document.getElementById("formAluno");
        const nome = document.getElementById("nome");
        const idade = document.getElementById("idade");
        const formOut = document.getElementById("formOut");

        form.addEventListener("submit", (e) => {
            e.preventDefault();
            let nomeVal = nome.value.trim();
            let idadeVal = Number(idade.value);
            if (!nomeVal || Number.isNaN(idadeVal)) {
                formOut.innerHTML = '‚ö† Preencha nome e idade corretamente';
                return;
            }
            let maioridade = idadeVal >= 18 ? 'maior' : 'menor'
            formOut.innerHTML = `Ol√° <strong>${nomeVal}</strong> - Voc√™ tem <strong>${idadeVal}</strong> anos e √© ${maioridade} de idade.`;
            console.log(`Form OK ‚Üí { nome: "${nomeVal}", idade: "${idadeVal}" }`)
        });

        const toDoInp = document.getElementById("todoInp")
        const toDoAdd = document.getElementById("todoAdd")
        const toDolist = document.getElementById("todoList")
        let todos = [];

        function renderToDos() {
            toDolist.innerHTML = '';
            todos.forEach((tarefa, idx) => {
                const li = document.createElement('li')
                li.innerHTML = `<span>${tarefa}</span>`
                const rm = document.createElement('button')
                rm.textContent = 'Remover'
                rm.addEventListener('click', () => {
                    todos.splice(idx, 1);
                    console.table(todos);
                    renderToDos();
                });
                li.appendChild(rm)
                toDolist.appendChild(li);
            })
        }

        todoAdd.addEventListener('click', () => {
            const txtTarefa = toDoInp.value.trim()
            if (!txtTarefa) return;
            todos.push(txtTarefa);
            console.groupCollapsed('Lista de tarefas atualizada');
            console.table(todos);
            console.groupEnd();
            toDoInp.value = ''
            renderToDos()
        })

    </script>;
</body>

</html>